(this["webpackJsonptest-ra-20112021"]=this["webpackJsonptest-ra-20112021"]||[]).push([[0],{34:function(n,e,t){},35:function(n,e,t){},48:function(n,e,t){"use strict";t.r(e);t(34),t(35);var r=t(0),i=t.n(r),o=t(16),c=t.n(o),a=t(6),s=t(10),u=t(12),d=t.n(u),p=t(17),l=t(28),b=function n(){Object(l.a)(this,n)};b.fetchComics=function(){var n=Object(p.a)(d.a.mark((function n(e){var t,r,i,o;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return"https://gateway.marvel.com/v1/public/comics?",t={apikey:"3cb62d086d5debdeea139095cbb07fe4",ts:"redant",hash:"140e85a50884cef76d614f6dacada288",offset:e},r="https://gateway.marvel.com/v1/public/comics?"+Object.entries(t).map((function(n){return n.join("=")})).join("&"),n.prev=3,n.next=6,fetch(r);case 6:if(!((i=n.sent).status>=400)){n.next=9;break}return n.abrupt("return",{error:i.status});case 9:return n.next=11,i.json();case 11:return o=n.sent,n.abrupt("return",{comics:o.data.results});case 15:return n.prev=15,n.t0=n.catch(3),console.log(n.t0),n.abrupt("return",{error:n.t0});case 19:case"end":return n.stop()}}),n,null,[[3,15]])})));return function(e){return n.apply(this,arguments)}}();var x,f,j,h,O,g,m,v=Object(s.b)(),w=0,y=v.getInitialState({error:!1,finished:!1}),k=Object(s.c)({name:"comics",initialState:y,reducers:{addComics:function(n,e){v.addMany(n,e.payload)},setError:function(n){n.error=!0},setFinished:function(n){n.finished=!0}}}),C=k.actions,I=C.addComics,z=C.setError,S=C.setFinished,E=v.getSelectors((function(n){return n.comics})),F=E.selectById,M=E.selectIds,P=k.reducer,R=Object(s.b)(),W=R.getInitialState({open:!1}),B=Object(s.c)({name:"favourites",initialState:W,reducers:{toggleOpen:function(n){n.open=!n.open},addFavourite:function(n,e){R.addOne(n,e.payload)},removeFavourite:function(n,e){R.removeOne(n,e.payload)}}}),L=B.actions,H=L.toggleOpen,J=L.addFavourite,T=L.removeFavourite,A=R.getSelectors((function(n){return n.favourites})),D=A.selectById,_=A.selectIds,q=B.reducer,G=Object(s.a)({reducer:{comics:P,favourites:q}}),K=t(20),N=t(29),Q=t(25),U=t(30),V=t(3),X=t(5),Y=X.a.div(f||(f=Object(V.a)(["\n  box-sizing: border-box;\n  position: absolute;\n  z-index: 1;\n  height: calc(100% - 50px);\n  margin-top: 50px;\n  padding: 25px;\n  overflow: auto;\n  font-size: 1.5rem;\n  display: flex;\n  justify-content: center;\n  left: ",";\n  width: ",";\n  @media only screen and (max-width: 480px) {\n    padding: 5px;\n  }\n"])),(function(n){return n.sidePanelOpen?"360px":"0"}),(function(n){return n.sidePanelOpen?"calc(100% - 360px)":"100%"})),Z=X.a.div(j||(j=Object(V.a)(["\n  position: relative;\n"]))),$=t.p+"static/media/star.454f890b.svg",nn=t.p+"static/media/redStar.73930ac8.svg",en=X.a.div(h||(h=Object(V.a)(["\n  position: absolute;\n  height: 540px;\n  width: 300px;\n  background: rgb(236, 240, 243);\n  border-radius: 25px;\n  margin: 25px 0;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-start;\n  box-shadow: 13px 13px 20px rgb(223 206 209), -13px -13px 20px rgb(255 255 255);\n  left: ","px;\n  top: ","px;\n\n  @media only screen and (min-width: 480px) {\n    margin: 25px;\n    &:hover {\n      transform: scale(1.05);\n      box-shadow: 13px 13px 40px rgb(223 206 209),\n        -13px -13px 40px rgb(255 255 255);\n    }\n  }\n"])),(function(n){return n.left}),(function(n){return n.top})),tn=X.a.img(O||(O=Object(V.a)(["\n  width: 100%;\n"]))),rn=X.a.div(g||(g=Object(V.a)(["\n  height: 90px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  width: 100%;\n  font-size: 18px;\n  padding: 10px;\n  overflow: hidden;\n"]))),on=X.a.button(m||(m=Object(V.a)(["\n  position: absolute;\n  top: 8px;\n  right: 8px;\n  width: 36px;\n  height: 36px;\n  border: 1px solid #fff;\n  border-radius: 50%;\n  background: url(",") 50% 50%\n    no-repeat;\n  background-color: rgba(0, 0, 0, 0.2);\n  background-size: 60%;\n  cursor: pointer;\n  @media only screen and (min-width: 480px) {\n    &:hover {\n      background-color: rgba(236, 29, 36, 0.3);\n      background-color: rgba(\n        236,\n        29,\n        36,\n        ","\n      );\n    }\n  }\n"])),(function(n){return n.favourite?nn:$}),(function(n){return n.favourite?"0.3":"0.7"})),cn=t(1);function an(n){var e=n.comicId,t=n.style,r=Object(a.b)(),i=Object(a.c)((function(n){return F(n,e)})),o=Object(a.c)((function(n){return D(n,e)}));return Object(cn.jsxs)(en,{top:t.top,left:t.left,children:[Object(cn.jsx)(tn,{src:"".concat(i.thumbnail.path,"/portrait_uncanny.jpg"),alt:"".concat(i.title," image")}),Object(cn.jsx)(rn,{children:i.title}),Object(cn.jsx)(on,{onClick:function(){if(o)r(T(e));else{var n={id:i.id,title:i.title};r(J(n))}},favourite:o})]})}var sn,un,dn=t(55),pn=X.a.div(sn||(sn=Object(V.a)(["\n  position: absolute;\n  width: 100%;\n  height: 590px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  left: ","px;\n  top: ","px;\n"])),(function(n){return n.left}),(function(n){return n.top})),ln=Object(X.a)(dn.a)(un||(un=Object(V.a)(["\n  color: #ec1d24 !important;\n"])));function bn(n){var e=n.style;return Object(cn.jsx)(pn,{top:e.top,left:e.left,children:Object(cn.jsx)(ln,{size:100,thickness:2})})}var xn,fn=Object(r.forwardRef)((function(n,e){var t=n.children,r=n.onScroll,i=Object(a.c)((function(n){return n.favourites.open}));return Object(cn.jsx)(Y,{onScroll:r,sidePanelOpen:i,children:t})})),jn=function(n){return Object(cn.jsx)(Z,Object(N.a)({},n))},hn=i.a.memo((function(n){var e=n.data,t=n.rowIndex,r=n.columnIndex,i=n.style,o=e.items[t*e.columns+r];return o?Object(cn.jsx)(an,{comicId:o,style:i},o):0===r?Object(cn.jsx)(bn,{style:i}):null}),Q.b);function On(){var n=Object(a.b)(),e=Object(a.c)(M),t=Object(a.c)((function(n){return n.favourites.open})),i=Object(a.c)((function(n){return!n.comics.finished})),o=Object(r.useState)([]),c=Object(K.a)(o,2),s=c[0],u=c[1],l=Object(r.useCallback)((function(){n(function(){var n=Object(p.a)(d.a.mark((function n(e){var t,r,i;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!x){n.next=2;break}return n.abrupt("return");case 2:return x=!0,n.next=5,b.fetchComics(w);case 5:if(t=n.sent,r=t.comics,i=t.error,x=!1,!i){n.next=12;break}return e(z()),n.abrupt("return");case 12:w+=r.length,r.length<20&&e(S()),e(I(r));case 15:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}),[n]),f=Object(r.useCallback)((function(n){return!i||n<e.length}),[i,e]);Object(r.useEffect)((function(){var n=function(){u([])};return n(),window.addEventListener("resize",n),function(){window.removeEventListener("resize",n)}}),[]);var j=Object(r.useMemo)((function(){var n=window.innerWidth>480?350:300,r=window.innerWidth>480?50:10,o=t?-350:0,c=window.innerWidth-r+o,a=window.innerHeight-50-50,s=Math.max(Math.floor(c/n),1),u=i?e.length+s:e.length;return{itemCount:u,width:c,height:a,colCount:s,colWidth:n,rowCount:Math.ceil(u/s)}}),[t,i,e.length,s]),h=Object(r.useCallback)((function(n){return function(e){var t=e.visibleColumnStartIndex,r=e.visibleColumnStopIndex,i=e.visibleRowStartIndex,o=e.visibleRowStopIndex,c=i*j.colCount+t,a=o*j.colCount+r;n({visibleStartIndex:c,visibleStopIndex:a})}}),[j.colCount]);return Object(cn.jsx)(U.a,{isItemLoaded:f,itemCount:j.itemCount,loadMoreItems:l,threshold:3,children:function(n){var t=n.onItemsRendered,r=n.ref;return Object(cn.jsx)(Q.a,{ref:r,height:j.height,width:j.width,columnCount:j.colCount,columnWidth:j.colWidth,rowCount:j.rowCount,rowHeight:590,itemCount:j.itemCount,onItemsRendered:h(t),outerElementType:fn,innerElementType:jn,itemData:{items:e,columns:j.colCount},children:hn})}})}var gn=X.a.div(xn||(xn=Object(V.a)(["\n  position: absolute;\n  z-index: 1;\n  height: calc(100% - 50px);\n  margin-top: 50px;\n  font-size: 1.5rem;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: red;\n  left: ",";\n  width: ",";\n"])),(function(n){return n.sidePanelOpen?"360px":"0"}),(function(n){return n.sidePanelOpen?"calc(100% - 360px)":"100%"}));function mn(){var n=Object(a.c)((function(n){return n.favourites.open}));return Object(cn.jsx)(gn,{sidePanelOpen:n,children:"Oops, something went wrong \ud83e\udd28"})}var vn,wn,yn,kn,Cn,In=t.p+"static/media/remove.7892e306.svg",zn=X.a.li(vn||(vn=Object(V.a)(["\n  padding: 15px 50px 15px 15px;\n  border-bottom: 1px solid rgb(204, 204, 204);\n  position: relative;\n  width: 100%;\n"]))),Sn=(X.a.div(wn||(wn=Object(V.a)([""]))),X.a.button(yn||(yn=Object(V.a)(["\n  position: absolute;\n  top: 50%;\n  right: 20px;\n  width: 32px;\n  height: 32px;\n  margin-top: -16px;\n  background: url(",") 50% 50% no-repeat;\n  background-size: 50%;\n  border: 0;\n"])),In));function En(n){var e=n.favouriteId,t=Object(a.b)(),r=Object(a.c)((function(n){return D(n,e)}));return Object(cn.jsxs)(zn,{children:[Object(cn.jsx)(rn,{children:r.title}),Object(cn.jsx)(Sn,{onClick:function(){t(T(e))}})]})}var Fn,Mn,Pn=X.a.div(kn||(kn=Object(V.a)([""]))),Rn=X.a.ul(Cn||(Cn=Object(V.a)(["\n  margin: 0;\n  padding: 0;\n  list-style: outside none;\n"])));function Wn(){var n=Object(a.c)(_);return Object(cn.jsx)(Pn,{children:Object(cn.jsx)(Rn,{children:n.map((function(n){return Object(cn.jsx)(En,{favouriteId:n},n)}))})})}var Bn,Ln=X.a.div(Fn||(Fn=Object(V.a)(["\n  height: 64px;\n  text-align: center;\n  line-height: 64px;\n  border-bottom: 1px solid rgb(204, 204, 204);\n  border-top: 1px solid rgb(204, 204, 204);\n  width: 100%;\n"]))),Hn=X.a.h2(Mn||(Mn=Object(V.a)(["\n  font-size: 20px;\n  text-transform: uppercase;\n  font-weight: 400;\n  margin: 0;\n  color: #ec1d24;\n  font-weight: 700;\n"])));function Jn(){return Object(cn.jsx)(Ln,{children:Object(cn.jsx)(Hn,{children:"Favourites"})})}var Tn,An,Dn,_n=X.a.div(Bn||(Bn=Object(V.a)(["\n  position: fixed;\n  z-index: 4;\n  top: 64px;\n  left: 0;\n  width: ","px;\n  height: calc(100% - 64px);\n  background: #ecf0f3;\n  overflow-y: auto;\n  overflow-x: hidden;\n  max-width: 100vw;\n  -webkit-transition: all 0.25s ease-in-out;\n  transition: all 0.25s ease-in-out;\n  border-right: 1px solid rgb(204, 204, 204);\n  box-shadow: 13px 0px 20px rgb(223, 206, 209);\n"])),(function(n){return n.open?360:0}));function qn(){var n=Object(a.c)((function(n){return n.favourites.open}));return Object(cn.jsxs)(_n,{open:n,children:[Object(cn.jsx)(Jn,{}),Object(cn.jsx)(Wn,{})]})}var Gn=X.a.header(Tn||(Tn=Object(V.a)(["\n  position: fixed;\n  top: 0;\n  width: 100vw;\n  box-shadow: 0px 13px 20px rgb(223, 206, 209);\n  height: 64px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 3;\n  background-color: #ecf0f3;\n"]))),Kn=X.a.div(An||(An=Object(V.a)(["\n  text-transform: uppercase;\n  color: #fff;\n  text-shadow: -1px -1px 5px #ec1d24, 1px -1px 5px #ec1d24, -1px 1px 5px #ec1d24,\n    1px 1px 5px #ec1d24;\n  font-size: 21px;\n  letter-spacing: 2px;\n  @media only screen and (min-width: 480px) {\n    font-size: 36px;\n  }\n"]))),Nn=X.a.button(Dn||(Dn=Object(V.a)(["\n  position: absolute;\n  top: 14px;\n  left: 10px;\n  width: 36px;\n  height: 36px;\n  border: 3px solid red;\n  border-radius: 50%;\n  background: url(",") 50% 50% no-repeat;\n  background-size: 60%;\n  transform: rotate(","deg);\n  transition: all 0.75s;\n"])),nn,(function(n){return n.open?360:0}));function Qn(){var n=Object(a.b)(),e=Object(a.c)((function(n){return n.favourites.open}));return Object(cn.jsxs)(Gn,{children:[Object(cn.jsx)(Kn,{children:"Red Ant Comics"}),Object(cn.jsx)(Nn,{onClick:function(){n(H())},open:e})]})}function Un(){var n=Object(a.c)((function(n){return n.comics.error}));return Object(cn.jsxs)(cn.Fragment,{children:[Object(cn.jsx)(Qn,{}),n?Object(cn.jsx)(mn,{}):Object(cn.jsx)(On,{}),Object(cn.jsx)(qn,{})]})}c.a.render(Object(cn.jsx)(i.a.StrictMode,{children:Object(cn.jsx)(a.a,{store:G,children:Object(cn.jsx)(Un,{})})}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.92fbb6e5.chunk.js.map