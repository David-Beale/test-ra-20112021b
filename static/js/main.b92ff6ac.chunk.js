(this["webpackJsonptest-ra-20112021"]=this["webpackJsonptest-ra-20112021"]||[]).push([[0],{35:function(n,e,t){},36:function(n,e,t){},49:function(n,e,t){"use strict";t.r(e);t(35),t(36);var r=t(0),i=t.n(r),o=t(16),c=t.n(o),a=t(6),s=t(10),u=t(12),d=t.n(u),p=t(17),l=t(28),b=function n(){Object(l.a)(this,n)};b.fetchComics=function(){var n=Object(p.a)(d.a.mark((function n(e){var t,r,i,o;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return"https://gateway.marvel.com/v1/public/comics?",t={apikey:"3cb62d086d5debdeea139095cbb07fe4",ts:"redant",hash:"140e85a50884cef76d614f6dacada288",offset:e},r="https://gateway.marvel.com/v1/public/comics?"+Object.entries(t).map((function(n){return n.join("=")})).join("&"),n.prev=3,n.next=6,fetch(r);case 6:if(!((i=n.sent).status>=400)){n.next=9;break}return n.abrupt("return",{error:i.status});case 9:return n.next=11,i.json();case 11:return o=n.sent,n.abrupt("return",{comics:o.data.results});case 15:return n.prev=15,n.t0=n.catch(3),console.log(n.t0),n.abrupt("return",{error:n.t0});case 19:case"end":return n.stop()}}),n,null,[[3,15]])})));return function(e){return n.apply(this,arguments)}}();var x,f,j,h,m,O,g,v=Object(s.b)(),w=0,y=v.getInitialState({error:!1,finished:!1}),k=Object(s.c)({name:"comics",initialState:y,reducers:{addComics:function(n,e){v.addMany(n,e.payload)},setError:function(n){n.error=!0},setFinished:function(n){n.finished=!0}}}),C=k.actions,I=C.addComics,z=C.setError,S=C.setFinished,E=v.getSelectors((function(n){return n.comics})),F=E.selectById,M=E.selectIds,R=k.reducer,P=Object(s.b)(),W=P.getInitialState({open:!1}),B=Object(s.c)({name:"favourites",initialState:W,reducers:{toggleOpen:function(n){n.open=!n.open},addFavourite:function(n,e){P.addOne(n,e.payload)},removeFavourite:function(n,e){P.removeOne(n,e.payload)}}}),L=B.actions,H=L.toggleOpen,J=L.addFavourite,T=L.removeFavourite,Z=P.getSelectors((function(n){return n.favourites})),A=Z.selectById,D=Z.selectIds,X=B.reducer,_=Object(s.a)({reducer:{comics:R,favourites:X}}),q=t(20),G=t(29),K=t(25),N=t(30),Q=t(3),U=t(5),V=U.a.div(f||(f=Object(Q.a)(["\n  box-sizing: border-box;\n  position: absolute;\n  z-index: 1;\n  height: calc(100% - 50px);\n  margin-top: 50px;\n  padding: 25px;\n  overflow: auto;\n  font-size: 1.5rem;\n  display: flex;\n  justify-content: center;\n  left: ",";\n  width: ",";\n  @media only screen and (max-width: 480px) {\n    padding: 5px;\n  }\n"])),(function(n){return n.sidePanelOpen?"360px":"0"}),(function(n){return n.sidePanelOpen?"calc(100% - 360px)":"100%"})),Y=U.a.div(j||(j=Object(Q.a)(["\n  position: relative;\n"]))),$=t(33),nn=t.n($),en=t.p+"static/media/star.454f890b.svg",tn=t.p+"static/media/redStar.73930ac8.svg",rn=U.a.div.attrs((function(n){return{style:{left:"".concat(n.left,"px"),top:"".concat(n.top,"px")}}}))(h||(h=Object(Q.a)(["\n  position: absolute;\n  height: 540px;\n  width: 300px;\n  background: rgb(236, 240, 243);\n  border-radius: 25px;\n  margin: 25px 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-start;\n  box-shadow: 13px 13px 20px rgb(223 206 209), -13px -13px 20px rgb(255 255 255);\n  z-index: 1;\n  transform-style: preserve-3d;\n  transform: perspective(1000px);\n  @media only screen and (min-width: 480px) {\n    margin: 25px;\n    &:hover {\n      z-index: 2;\n      box-shadow: 13px 13px 40px rgb(223 206 209),\n        -13px -13px 40px rgb(255 255 255);\n    }\n  }\n"]))),on=U.a.img(m||(m=Object(Q.a)(["\n  width: 100%;\n  border-top-left-radius: 25px;\n  border-top-right-radius: 25px;\n"]))),cn=U.a.div(O||(O=Object(Q.a)(["\n  height: 90px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  width: 100%;\n  font-size: 18px;\n  padding: 10px;\n  overflow: hidden;\n  transform: translateZ(20px);\n"]))),an=U.a.button(g||(g=Object(Q.a)(["\n  position: absolute;\n  top: 15px;\n  right: 15px;\n  width: 36px;\n  height: 36px;\n  border: 1px solid #fff;\n  border-radius: 50%;\n  background: url(",") 50% 50%\n    no-repeat;\n  background-color: rgba(0, 0, 0, 0.2);\n  background-size: 60%;\n  cursor: pointer;\n  transform: translateZ(20px);\n  @media only screen and (min-width: 480px) {\n    &:hover {\n      background-color: rgba(236, 29, 36, 0.3);\n      background-color: rgba(\n        236,\n        29,\n        36,\n        ","\n      );\n    }\n  }\n"])),(function(n){return n.favourite?tn:en}),(function(n){return n.favourite?"0.3":"0.7"})),sn=t(1),un={scale:1.05,speed:1e3,glare:!0,"max-glare":.5,max:10};function dn(n){var e=n.comicId,t=n.style,i=Object(a.b)(),o=Object(r.useRef)(null);Object(r.useEffect)((function(){nn.a.init(o.current,un)}),[]);var c=Object(a.c)((function(n){return F(n,e)})),s=Object(a.c)((function(n){return A(n,e)}));return Object(sn.jsxs)(rn,{top:t.top,left:t.left,ref:o,children:[Object(sn.jsx)(on,{src:"".concat(c.thumbnail.path,"/portrait_uncanny.jpg"),alt:"".concat(c.title," image")}),Object(sn.jsx)(cn,{children:c.title}),Object(sn.jsx)(an,{onClick:function(){if(s)i(T(e));else{var n={id:c.id,title:c.title};i(J(n))}},favourite:s})]})}var pn,ln,bn=t(56),xn=U.a.div.attrs((function(n){return{style:{left:"".concat(n.left,"px"),top:"".concat(n.top,"px")}}}))(pn||(pn=Object(Q.a)(["\n  position: absolute;\n  width: 100%;\n  height: 590px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),fn=Object(U.a)(bn.a)(ln||(ln=Object(Q.a)(["\n  color: #ec1d24 !important;\n"])));function jn(n){var e=n.style;return Object(sn.jsx)(xn,{top:e.top,left:e.left,children:Object(sn.jsx)(fn,{size:100,thickness:2})})}var hn,mn=Object(r.forwardRef)((function(n,e){var t=n.children,r=n.onScroll,i=Object(a.c)((function(n){return n.favourites.open}));return Object(sn.jsx)(V,{onScroll:r,sidePanelOpen:i,children:t})})),On=function(n){return Object(sn.jsx)(Y,Object(G.a)({},n))},gn=i.a.memo((function(n){var e=n.data,t=n.rowIndex,r=n.columnIndex,i=n.style,o=e.items[t*e.columns+r];return o?Object(sn.jsx)(dn,{comicId:o,style:i},o):0===r?Object(sn.jsx)(jn,{style:i}):null}),K.b);function vn(){var n=Object(a.b)(),e=Object(a.c)(M),t=Object(a.c)((function(n){return n.favourites.open})),i=Object(a.c)((function(n){return!n.comics.finished})),o=Object(r.useState)([]),c=Object(q.a)(o,2),s=c[0],u=c[1],l=Object(r.useCallback)((function(){n(function(){var n=Object(p.a)(d.a.mark((function n(e){var t,r,i;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!x){n.next=2;break}return n.abrupt("return");case 2:return x=!0,n.next=5,b.fetchComics(w);case 5:if(t=n.sent,r=t.comics,i=t.error,x=!1,!i){n.next=12;break}return e(z()),n.abrupt("return");case 12:w+=r.length,r.length<20&&e(S()),e(I(r));case 15:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}),[n]),f=Object(r.useCallback)((function(n){return!i||n<e.length}),[i,e]);Object(r.useEffect)((function(){var n=function(){u([])};return n(),window.addEventListener("resize",n),function(){window.removeEventListener("resize",n)}}),[]);var j=Object(r.useMemo)((function(){var n=window.innerWidth>480?350:300,r=window.innerWidth>480?50:10,o=t?-350:0,c=window.innerWidth-r+o,a=window.innerHeight-50-50,s=Math.max(Math.floor(c/n),1),u=i?e.length+s:e.length;return{itemCount:u,width:c,height:a,colCount:s,colWidth:n,rowCount:Math.ceil(u/s)}}),[t,i,e.length,s]),h=Object(r.useCallback)((function(n){return function(e){var t=e.visibleColumnStartIndex,r=e.visibleColumnStopIndex,i=e.visibleRowStartIndex,o=e.visibleRowStopIndex,c=i*j.colCount+t,a=o*j.colCount+r;n({visibleStartIndex:c,visibleStopIndex:a})}}),[j.colCount]);return Object(sn.jsx)(N.a,{isItemLoaded:f,itemCount:j.itemCount,loadMoreItems:l,threshold:3,children:function(n){var t=n.onItemsRendered,r=n.ref;return Object(sn.jsx)(K.a,{ref:r,height:j.height,width:j.width,columnCount:j.colCount,columnWidth:j.colWidth,rowCount:j.rowCount,rowHeight:590,itemCount:j.itemCount,onItemsRendered:h(t),outerElementType:mn,innerElementType:On,itemData:{items:e,columns:j.colCount},children:gn})}})}var wn=U.a.div(hn||(hn=Object(Q.a)(["\n  position: absolute;\n  z-index: 1;\n  height: calc(100% - 50px);\n  margin-top: 50px;\n  font-size: 1.5rem;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: red;\n  left: ",";\n  width: ",";\n"])),(function(n){return n.sidePanelOpen?"360px":"0"}),(function(n){return n.sidePanelOpen?"calc(100% - 360px)":"100%"}));function yn(){var n=Object(a.c)((function(n){return n.favourites.open}));return Object(sn.jsx)(wn,{sidePanelOpen:n,children:"Oops, something went wrong \ud83e\udd28"})}var kn,Cn,In,zn,Sn,En=t.p+"static/media/remove.7892e306.svg",Fn=U.a.li(kn||(kn=Object(Q.a)(["\n  padding: 15px 50px 15px 15px;\n  border-bottom: 1px solid rgb(204, 204, 204);\n  position: relative;\n  width: 100%;\n"]))),Mn=(U.a.div(Cn||(Cn=Object(Q.a)([""]))),U.a.button(In||(In=Object(Q.a)(["\n  position: absolute;\n  top: 50%;\n  right: 20px;\n  width: 32px;\n  height: 32px;\n  margin-top: -16px;\n  background: url(",") 50% 50% no-repeat;\n  background-size: 50%;\n  border: 0;\n"])),En));function Rn(n){var e=n.favouriteId,t=Object(a.b)(),r=Object(a.c)((function(n){return A(n,e)}));return Object(sn.jsxs)(Fn,{children:[Object(sn.jsx)(cn,{children:r.title}),Object(sn.jsx)(Mn,{onClick:function(){t(T(e))}})]})}var Pn,Wn,Bn=U.a.div(zn||(zn=Object(Q.a)([""]))),Ln=U.a.ul(Sn||(Sn=Object(Q.a)(["\n  margin: 0;\n  padding: 0;\n  list-style: outside none;\n"])));function Hn(){var n=Object(a.c)(D);return Object(sn.jsx)(Bn,{children:Object(sn.jsx)(Ln,{children:n.map((function(n){return Object(sn.jsx)(Rn,{favouriteId:n},n)}))})})}var Jn,Tn=U.a.div(Pn||(Pn=Object(Q.a)(["\n  height: 64px;\n  text-align: center;\n  line-height: 64px;\n  border-bottom: 1px solid rgb(204, 204, 204);\n  border-top: 1px solid rgb(204, 204, 204);\n  width: 100%;\n"]))),Zn=U.a.h2(Wn||(Wn=Object(Q.a)(["\n  font-size: 20px;\n  text-transform: uppercase;\n  font-weight: 400;\n  margin: 0;\n  color: #ec1d24;\n  font-weight: 700;\n"])));function An(){return Object(sn.jsx)(Tn,{children:Object(sn.jsx)(Zn,{children:"Favourites"})})}var Dn,Xn,_n,qn=U.a.div(Jn||(Jn=Object(Q.a)(["\n  position: fixed;\n  z-index: 4;\n  top: 64px;\n  left: 0;\n  width: 360px;\n  transform: translateX(",");\n  height: calc(100% - 64px);\n  background: #ecf0f3;\n  overflow-y: auto;\n  overflow-x: hidden;\n  max-width: 100vw;\n  -webkit-transition: all 0.25s ease-in-out;\n  transition: all 0.25s ease-in-out;\n  border-right: 1px solid rgb(204, 204, 204);\n  box-shadow: 13px 0px 20px rgb(223, 206, 209);\n"])),(function(n){return n.open?0:"-100%"}));function Gn(){var n=Object(a.c)((function(n){return n.favourites.open}));return Object(sn.jsxs)(qn,{open:n,children:[Object(sn.jsx)(An,{}),Object(sn.jsx)(Hn,{})]})}var Kn=U.a.header(Dn||(Dn=Object(Q.a)(["\n  position: fixed;\n  top: 0;\n  width: 100vw;\n  box-shadow: 0px 13px 20px rgb(223, 206, 209);\n  height: 64px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 3;\n  background-color: #ecf0f3;\n"]))),Nn=U.a.div(Xn||(Xn=Object(Q.a)(["\n  text-transform: uppercase;\n  color: #fff;\n  text-shadow: -1px -1px 5px #ec1d24, 1px -1px 5px #ec1d24, -1px 1px 5px #ec1d24,\n    1px 1px 5px #ec1d24;\n  font-size: 21px;\n  letter-spacing: 2px;\n  @media only screen and (min-width: 480px) {\n    font-size: 36px;\n  }\n"]))),Qn=U.a.button(_n||(_n=Object(Q.a)(["\n  position: absolute;\n  top: 14px;\n  left: 10px;\n  width: 36px;\n  height: 36px;\n  border: 3px solid red;\n  border-radius: 50%;\n  background: url(",") 50% 50% no-repeat;\n  background-size: 60%;\n  transform: rotate(","deg);\n  transition: all 0.75s;\n"])),tn,(function(n){return n.open?360:0}));function Un(){var n=Object(a.b)(),e=Object(a.c)((function(n){return n.favourites.open}));return Object(sn.jsxs)(Kn,{children:[Object(sn.jsx)(Nn,{children:"Red Ant Comics"}),Object(sn.jsx)(Qn,{onClick:function(){n(H())},open:e})]})}function Vn(){var n=Object(a.c)((function(n){return n.comics.error}));return Object(sn.jsxs)(sn.Fragment,{children:[Object(sn.jsx)(Un,{}),n?Object(sn.jsx)(yn,{}):Object(sn.jsx)(vn,{}),Object(sn.jsx)(Gn,{})]})}c.a.render(Object(sn.jsx)(i.a.StrictMode,{children:Object(sn.jsx)(a.a,{store:_,children:Object(sn.jsx)(Vn,{})})}),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.b92ff6ac.chunk.js.map